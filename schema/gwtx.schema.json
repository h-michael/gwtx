{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "gwtx configuration",
  "description": "Configuration file for gwtx (git worktree extra)",
  "type": "object",
  "properties": {
    "auto_cd": {
      "$ref": "#/$defs/AutoCd"
    },
    "copy": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/CopyEntry"
      }
    },
    "hooks": {
      "$ref": "#/$defs/Hooks"
    },
    "link": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/LinkEntry"
      }
    },
    "mkdir": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/MkdirEntry"
      }
    },
    "on_conflict": {
      "anyOf": [
        {
          "$ref": "#/$defs/OnConflict"
        },
        {
          "type": "null"
        }
      ]
    },
    "ui": {
      "$ref": "#/$defs/Ui"
    },
    "worktree": {
      "$ref": "#/$defs/Worktree"
    }
  },
  "additionalProperties": false,
  "$defs": {
    "AfterRemove": {
      "title": "After Remove",
      "description": "Where to cd after removing the current worktree",
      "oneOf": [
        {
          "description": "cd to the main worktree automatically",
          "type": "string",
          "const": "main"
        },
        {
          "description": "Show interactive selection to choose a worktree",
          "type": "string",
          "const": "select"
        }
      ]
    },
    "AutoCd": {
      "title": "Auto Cd",
      "description": "Automatic directory change after worktree operations",
      "type": "object",
      "properties": {
        "after_add": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "after_remove": {
          "anyOf": [
            {
              "$ref": "#/$defs/AfterRemove"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "additionalProperties": false
    },
    "CopyEntry": {
      "title": "Copy Entry",
      "description": "File/directory copy operation",
      "type": "object",
      "properties": {
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "on_conflict": {
          "anyOf": [
            {
              "$ref": "#/$defs/OnConflict"
            },
            {
              "type": "null"
            }
          ]
        },
        "source": {
          "type": "string",
          "default": ""
        },
        "target": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "HookEntry": {
      "title": "Hook Entry",
      "description": "A hook command with optional description",
      "type": "object",
      "properties": {
        "command": {
          "type": "string"
        },
        "description": {
          "type": [
            "string",
            "null"
          ],
          "default": null
        }
      },
      "additionalProperties": false,
      "required": [
        "command"
      ]
    },
    "Hooks": {
      "title": "Hooks",
      "description": "Hooks that run before/after worktree operations",
      "type": "object",
      "properties": {
        "hook_shell": {
          "type": [
            "string",
            "null"
          ]
        },
        "post_add": {
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/HookEntry"
          }
        },
        "post_remove": {
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/HookEntry"
          }
        },
        "pre_add": {
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/HookEntry"
          }
        },
        "pre_remove": {
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/HookEntry"
          }
        }
      },
      "additionalProperties": false
    },
    "LinkEntry": {
      "title": "Link Entry",
      "description": "Symlink creation operation with glob pattern support",
      "type": "object",
      "properties": {
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "ignore_tracked": {
          "type": "boolean",
          "default": false
        },
        "on_conflict": {
          "anyOf": [
            {
              "$ref": "#/$defs/OnConflict"
            },
            {
              "type": "null"
            }
          ]
        },
        "source": {
          "type": "string",
          "default": ""
        },
        "target": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "MkdirEntry": {
      "title": "Mkdir Entry",
      "description": "Directory creation operation",
      "type": "object",
      "properties": {
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "path": {
          "type": "string",
          "default": ""
        }
      },
      "additionalProperties": false
    },
    "OnConflict": {
      "title": "Conflict Resolution Mode",
      "description": "How to handle file conflicts during operations",
      "type": "string",
      "enum": [
        "abort",
        "skip",
        "overwrite",
        "backup"
      ]
    },
    "Ui": {
      "title": "UI",
      "description": "Interactive UI configuration",
      "type": "object",
      "properties": {
        "colors": {
          "$ref": "#/$defs/UiColors"
        }
      },
      "additionalProperties": false
    },
    "UiColors": {
      "title": "UI Colors",
      "description": "Color overrides for interactive UI",
      "type": "object",
      "properties": {
        "accent": {
          "type": [
            "string",
            "null"
          ]
        },
        "border": {
          "type": [
            "string",
            "null"
          ]
        },
        "disabled": {
          "type": [
            "string",
            "null"
          ]
        },
        "error": {
          "type": [
            "string",
            "null"
          ]
        },
        "footer": {
          "type": [
            "string",
            "null"
          ]
        },
        "header": {
          "type": [
            "string",
            "null"
          ]
        },
        "label": {
          "type": [
            "string",
            "null"
          ]
        },
        "muted": {
          "type": [
            "string",
            "null"
          ]
        },
        "preview": {
          "type": [
            "string",
            "null"
          ]
        },
        "search": {
          "type": [
            "string",
            "null"
          ]
        },
        "selection_bg": {
          "type": [
            "string",
            "null"
          ]
        },
        "selection_fg": {
          "type": [
            "string",
            "null"
          ]
        },
        "text": {
          "type": [
            "string",
            "null"
          ]
        },
        "title": {
          "type": [
            "string",
            "null"
          ]
        },
        "warning": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "Worktree": {
      "title": "Worktree",
      "description": "Worktree path and branch template configuration with template variable support",
      "type": "object",
      "properties": {
        "branch_template": {
          "type": [
            "string",
            "null"
          ]
        },
        "path_template": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    }
  }
}
