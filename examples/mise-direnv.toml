# mise and direnv integration example
# Automatically set up development tools and environment

[options]
on_conflict = "skip"

# Link direnv configuration
[[link]]
source = ".envrc"
description = "direnv configuration"

[[link]]
source = ".env.local"
description = "Local environment variables"

# Copy template files
[[copy]]
source = ".env.example"
target = ".env"
description = "Environment template"

# Install mise tools after worktree creation
[[hooks.post_add]]
command = "mise install"
description = "Install tools via mise"

# Trust direnv configuration
[[hooks.post_add]]
command = "direnv allow"
description = "Trust direnv configuration"

# Optional: Run mise tasks
# [[hooks.post_add]]
# command = "mise run setup"
# description = "Run mise setup tasks"

# Alternative: Using asdf instead of mise
# [[hooks.post_add]]
# command = "asdf install"
# description = "Install tools via asdf"

# Clean up before removing worktree
# [[hooks.pre_remove]]
# command = "direnv revoke"
# description = "Revoke direnv trust"
