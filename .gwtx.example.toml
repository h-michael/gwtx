# gwtx configuration file
# Copy this file to .gwtx.toml and customize for your project.

# Global options
# [options]
# on_conflict = "backup"  # abort, skip, overwrite, backup
                          # default: prompt interactively (error if non-interactive)

# Worktree path generation settings
# Configure how worktree paths are suggested in interactive mode
# and allow path to be optional in non-interactive mode.
#
# [worktree]
# path = "../worktrees/"              # No variables: branch appended at the end
#                                     # Result: ../worktrees/feature/foo
#
# [worktree]
# path = "../gwtx-{branch}-"          # With variables: expanded as-is
#                                     # Result: ../gwtx-feature/foo-
#
# [worktree]
# path = "../{repo_name}-{branch}"    # Full template
#                                     # Result: ../myrepo-feature/foo
#
# Available variables:
#   {branch} or {{ branch }}       - Branch name as-is (e.g., feature/foo)
#   {repo_name} or {{ repo_name }} - Repository directory name (e.g., myrepo)
#
# Note: Both relative and absolute paths are allowed
# Note: Both {var} and {{var}} syntax are supported
# Note: Spaces inside braces are allowed: {{ branch }}, {{  branch  }}, etc.

# Create directories in the new worktree
# [[mkdir]]
# path = "build"                        # required, relative to worktree
# description = "Build output directory"  # optional

# Create symbolic links from repository root to worktree
# [[link]]
# source = ".env.local"                 # required, relative to repo root
# target = ".env.local"                 # optional, defaults to source
# on_conflict = "skip"                  # optional, overrides global
# description = "Local environment"     # optional

# [[link]]
# source = ".envrc"
# description = "direnv configuration"

# Glob pattern support: link multiple files at once
# [[link]]
# source = "fixtures/*"                 # glob pattern: matches all files in fixtures/
# skip_tracked = true                   # optional, skip git-tracked files (e.g., .gitkeep)
# description = "Link untracked test fixtures"

# Copy files from repository root to worktree
# [[copy]]
# source = ".env.example"               # required, relative to repo root
# target = ".env"                       # optional, defaults to source
# on_conflict = "backup"                # optional, overrides global
# description = "Environment file"      # optional

# Hooks: Execute commands before/after worktree operations
# SECURITY: Hooks require explicit trust via `gwtx trust` before execution
# PLATFORM: Hooks are currently supported on Unix-like systems (Linux, macOS) only
#           Windows users: Use Git Bash/WSL or `--no-setup` flag to skip hooks
#
# [[hooks.pre_add]]
# command = "echo 'Preparing worktree setup...'"
#
# [[hooks.pre_add]]
# command = "./scripts/pre-setup.sh"
# description = "Run pre-setup script"
#
# [[hooks.post_add]]
# command = "mise install"
# description = "Install tools via mise"
#
# [[hooks.post_add]]
# command = "direnv allow"
# description = "Trust direnv configuration"
#
# [[hooks.post_add]]
# command = "cd {{worktree_path}} && npm install"
# description = "Install dependencies"
#
# [[hooks.pre_remove]]
# command = "echo 'Cleaning up {{worktree_name}}...'"
#
# [[hooks.post_remove]]
# command = "./scripts/cleanup.sh"
# description = "Run cleanup script"
#
# Template variables (safe and recommended):
#   {{worktree_path}}   - Full path to the worktree (e.g., /path/to/worktrees/feature-foo)
#   {{worktree_name}}   - Worktree directory name (e.g., feature-foo)
#   {{branch}}          - Branch name (e.g., feature/foo)
#   {{repo_root}}       - Repository root path
#
# Variables are automatically escaped for shell safety
